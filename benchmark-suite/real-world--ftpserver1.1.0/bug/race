Data race on field org.apache.mina.core.session.AbstractIoSession.lastWriteTime: {{{
    Concurrent write in thread T25 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseWrittenBytes(AbstractIoSession.java:936)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.writeBuffer(AbstractPollingIoProcessor.java:929)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.flushNow(AbstractPollingIoProcessor.java:840)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.flush(AbstractPollingIoProcessor.java:767)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$700(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1125)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T25 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T23 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseWrittenMessages(AbstractIoSession.java:965)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageSent(DefaultIoFilterChain.java:868)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.logging.LoggingFilter.messageSent(LoggingFilter.java:214)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageSent(CommonEventFilter.java:75)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageSent(ProtocolCodecFilter.java:271)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T23 is created by T22
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.buffer.IoBuffer.allocator: {{{
    Concurrent read in thread T22 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:172)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T22 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T25 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:174)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T25 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field org.apache.mina.core.buffer.IoBuffer.allocator: {{{
    Concurrent write in thread T26 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:174)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T26 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T22 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:174)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T22 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field org.apache.mina.core.buffer.IoBuffer.allocator: {{{
    Concurrent read in thread T22 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T22 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T25 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:174)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:672)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T25 is created by T21
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastWriteTime: {{{
    Concurrent read in thread T54 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastIoTime(AbstractIoSession.java:1106)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1395)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T54 is created by T53
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T55 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseWrittenMessages(AbstractIoSession.java:965)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageSent(DefaultIoFilterChain.java:868)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.logging.LoggingFilter.messageSent(LoggingFilter.java:214)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageSent(CommonEventFilter.java:75)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageSent(ProtocolCodecFilter.java:271)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T55 is created by T54
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastWriteTime: {{{
    Concurrent read in thread T54 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastWriteTime(AbstractIoSession.java:1120)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1403)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T54 is created by T53
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T55 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseWrittenMessages(AbstractIoSession.java:965)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageSent(DefaultIoFilterChain.java:868)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.logging.LoggingFilter.messageSent(LoggingFilter.java:214)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageSent(CommonEventFilter.java:75)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageSent(ProtocolCodecFilter.java:271)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageSent(DefaultIoFilterChain.java:570)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1400(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageSent(DefaultIoFilterChain.java:952)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:79)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T55 is created by T54
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.buffer.AbstractIoBuffer.mark: {{{
    Concurrent write in thread T59 (locks held: {Monitor@1151609d, WriteLock@4e47917d})
 ---->  at org.apache.mina.core.buffer.AbstractIoBuffer.mark(AbstractIoBuffer.java:406)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$HeadFilter.filterWrite(DefaultIoFilterChain.java:740)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.ssl.SslHandler.flushScheduledEvents(SslHandler.java:321)
        - locked WriteLock@4e47917d at java.util.concurrent.locks.ReentrantLock(ReentrantLock.java:n/a) 
        at org.apache.mina.filter.ssl.SslFilter.filterWrite(SslFilter.java:653)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.executor.ExecutorFilter.filterWrite(ExecutorFilter.java:611)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.filterWrite(ProtocolCodecFilter.java:317)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterWrite(IoFilterAdapter.java:123)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterWrite(DefaultIoFilterChain.java:881)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterWrite(DefaultIoFilterChain.java:622)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:574)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:519)
        at org.apache.ftpserver.impl.FtpIoSession.write(FtpIoSession.java:589)
        at org.apache.ftpserver.command.impl.QUIT.execute(QUIT.java:55)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@1151609d at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T59 is created by T58
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)

    Concurrent write in thread T1 (locks held: {Monitor@6fe27001, Monitor@2765bca})
 ---->  at org.apache.mina.core.buffer.AbstractIoBuffer.shrink(AbstractIoBuffer.java:350)
        at org.apache.mina.filter.ssl.SslHandler.fetchOutNetBuffer(SslHandler.java:425)
        at org.apache.mina.filter.ssl.SslHandler.writeNetBuffer(SslHandler.java:651)
        at org.apache.mina.filter.ssl.SslFilter.initiateClosure(SslFilter.java:748)
        at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:677)
        - locked Monitor@2765bca at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:675) 
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.filter.executor.ExecutorFilter.filterClose(ExecutorFilter.java:624)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterClose(DefaultIoFilterChain.java:886)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterClose(DefaultIoFilterChain.java:641)
        at org.apache.mina.core.session.AbstractIoSession.closeNow(AbstractIoSession.java:357)
        at org.apache.mina.core.service.IoServiceListenerSupport.disconnectSessions(IoServiceListenerSupport.java:291)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireServiceDeactivated(IoServiceListenerSupport.java:182)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:425)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:340)
        at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:202)
        - locked Monitor@6fe27001 at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:n/a) 
        at org.apache.ftpserver.impl.DefaultFtpServer.stop(DefaultFtpServer.java:120)
        at org.apache.ftpserver.clienttests.ClientTestTemplate.tearDown(ClientTestTemplate.java:233)
        at junit.framework.TestCase.runBare(TestCase.java:146)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread
}}}

Data race on field org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.buf: {{{
    Concurrent read in thread T59 (locks held: {Monitor@1151609d, WriteLock@4e47917d})
 ---->  at org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.buf(SimpleBufferAllocator.java:71)
        at org.apache.mina.core.buffer.AbstractIoBuffer.mark(AbstractIoBuffer.java:404)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$HeadFilter.filterWrite(DefaultIoFilterChain.java:740)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.ssl.SslHandler.flushScheduledEvents(SslHandler.java:321)
        - locked WriteLock@4e47917d at java.util.concurrent.locks.ReentrantLock(ReentrantLock.java:n/a) 
        at org.apache.mina.filter.ssl.SslFilter.filterWrite(SslFilter.java:653)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.executor.ExecutorFilter.filterWrite(ExecutorFilter.java:611)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.filterWrite(ProtocolCodecFilter.java:317)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterWrite(IoFilterAdapter.java:123)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterWrite(DefaultIoFilterChain.java:881)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterWrite(DefaultIoFilterChain.java:622)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:574)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:519)
        at org.apache.ftpserver.impl.FtpIoSession.write(FtpIoSession.java:589)
        at org.apache.ftpserver.command.impl.QUIT.execute(QUIT.java:55)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@1151609d at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T59 is created by T58
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)

    Concurrent write in thread T1 (locks held: {Monitor@6fe27001, Monitor@2765bca})
 ---->  at org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.buf(SimpleBufferAllocator.java:76)
        at org.apache.mina.core.buffer.AbstractIoBuffer.shrink(AbstractIoBuffer.java:344)
        at org.apache.mina.filter.ssl.SslHandler.fetchOutNetBuffer(SslHandler.java:425)
        at org.apache.mina.filter.ssl.SslHandler.writeNetBuffer(SslHandler.java:651)
        at org.apache.mina.filter.ssl.SslFilter.initiateClosure(SslFilter.java:748)
        at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:677)
        - locked Monitor@2765bca at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:675) 
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.filter.executor.ExecutorFilter.filterClose(ExecutorFilter.java:624)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterClose(DefaultIoFilterChain.java:886)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterClose(DefaultIoFilterChain.java:641)
        at org.apache.mina.core.session.AbstractIoSession.closeNow(AbstractIoSession.java:357)
        at org.apache.mina.core.service.IoServiceListenerSupport.disconnectSessions(IoServiceListenerSupport.java:291)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireServiceDeactivated(IoServiceListenerSupport.java:182)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:425)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:340)
        at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:202)
        - locked Monitor@6fe27001 at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:n/a) 
        at org.apache.ftpserver.impl.DefaultFtpServer.stop(DefaultFtpServer.java:120)
        at org.apache.ftpserver.clienttests.ClientTestTemplate.tearDown(ClientTestTemplate.java:233)
        at junit.framework.TestCase.runBare(TestCase.java:146)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread
}}}

Data race on field org.apache.mina.core.polling.AbstractPollingIoProcessor.lastIdleCheckTime: {{{
    Concurrent write in thread T61 (locks held: {})
 ---->  at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1065)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T61 is created by T57
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent read in thread T58 (locks held: {})
 ---->  at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:735)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T58 is created by T57
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringUploadUniqueEnd(FtpLetReturnDisconnectTest.java:508)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T161 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T161 is created by T160
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringDownloadEnd(FtpLetReturnDisconnectTest.java:355)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T167 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T167 is created by T166
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.buffer.IoBuffer.allocator: {{{
    Concurrent read in thread T166 (locks held: {})
 ---->  at org.apache.mina.core.buffer.IoBuffer.getAllocator(IoBuffer.java:159)
        at org.apache.mina.core.buffer.AbstractIoBuffer.capacity(AbstractIoBuffer.java:184)
        at org.apache.mina.core.buffer.AbstractIoBuffer.expand(AbstractIoBuffer.java:285)
        at org.apache.mina.core.buffer.AbstractIoBuffer.autoExpand(AbstractIoBuffer.java:2768)
        at org.apache.mina.core.buffer.AbstractIoBuffer.position(AbstractIoBuffer.java:368)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.writeBuffer(AbstractPollingIoProcessor.java:943)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.flushNow(AbstractPollingIoProcessor.java:840)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.flush(AbstractPollingIoProcessor.java:767)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$700(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1125)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T166 is created by T165
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T168 (locks held: {Monitor@73138bc3})
 ---->  at org.apache.mina.core.buffer.IoBuffer.setAllocator(IoBuffer.java:174)
        at org.apache.mina.core.buffer.AbstractIoBuffer.<init>(AbstractIoBuffer.java:95)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.ftpserver.listener.nio.FtpResponseEncoder.encode(FtpResponseEncoder.java:48)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.filterWrite(ProtocolCodecFilter.java:299)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterWrite(IoFilterAdapter.java:123)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterWrite(DefaultIoFilterChain.java:881)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterWrite(DefaultIoFilterChain.java:622)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:574)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:519)
        at org.apache.ftpserver.impl.FtpIoSession.write(FtpIoSession.java:589)
        at org.apache.ftpserver.command.impl.RETR.execute(RETR.java:210)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@73138bc3 at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T168 is created by T166
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringRenameStart(FtpLetReturnDisconnectTest.java:278)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T188 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T188 is created by T187
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringDeleteEnd(FtpLetReturnDisconnectTest.java:132)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T204 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T204 is created by T203
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastReadTime: {{{
    Concurrent read in thread T297 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastReadTime(AbstractIoSession.java:1113)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1399)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T297 is created by T296
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T299 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseReadMessages(AbstractIoSession.java:915)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:846)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T299 is created by T297
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastReadTime: {{{
    Concurrent read in thread T297 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastIoTime(AbstractIoSession.java:1106)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1395)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T297 is created by T296
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T299 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseReadMessages(AbstractIoSession.java:915)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:846)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T299 is created by T297
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnSkipTest.testExceptionDuringUploadUniqueEnd(FtpLetReturnSkipTest.java:419)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T320 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T320 is created by T319
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringUploadStart(FtpLetReturnDisconnectTest.java:435)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1050 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1050 is created by T1049
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringUploadEnd(FtpLetReturnDisconnectTest.java:459)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1064 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1064 is created by T1063
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringUploadUniqueStart(FtpLetReturnDisconnectTest.java:484)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1142 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1142 is created by T1141
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.buf: {{{
    Concurrent write in thread T1 (locks held: {Monitor@5274770a, Monitor@2941fc34})
 ---->  at org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.<init>(SimpleBufferAllocator.java:60)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.wrap(SimpleBufferAllocator.java:48)
        at org.apache.mina.core.buffer.SimpleBufferAllocator.allocate(SimpleBufferAllocator.java:34)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:226)
        at org.apache.mina.core.buffer.IoBuffer.allocate(IoBuffer.java:210)
        at org.apache.mina.filter.ssl.SslHandler.createOutNetBuffer(SslHandler.java:632)
        at org.apache.mina.filter.ssl.SslHandler.closeOutbound(SslHandler.java:486)
        at org.apache.mina.filter.ssl.SslFilter.initiateClosure(SslFilter.java:742)
        at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:677)
        - locked Monitor@2941fc34 at org.apache.mina.filter.ssl.SslFilter.filterClose(SslFilter.java:675) 
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.filter.executor.ExecutorFilter.filterClose(ExecutorFilter.java:624)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:88)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterClose(CommonEventFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterClose(IoFilterAdapter.java:130)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1600(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterClose(DefaultIoFilterChain.java:962)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterClose(DefaultIoFilterChain.java:886)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterClose(DefaultIoFilterChain.java:648)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterClose(DefaultIoFilterChain.java:641)
        at org.apache.mina.core.session.AbstractIoSession.closeNow(AbstractIoSession.java:357)
        at org.apache.mina.core.service.IoServiceListenerSupport.disconnectSessions(IoServiceListenerSupport.java:291)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireServiceDeactivated(IoServiceListenerSupport.java:182)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:425)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:340)
        at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:202)
        - locked Monitor@5274770a at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:n/a) 
        at org.apache.ftpserver.impl.DefaultFtpServer.stop(DefaultFtpServer.java:120)
        at org.apache.ftpserver.clienttests.ClientTestTemplate.tearDown(ClientTestTemplate.java:233)
        at junit.framework.TestCase.runBare(TestCase.java:146)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1151 (locks held: {Monitor@604f1596, WriteLock@5224d0ec})
 ---->  at org.apache.mina.core.buffer.SimpleBufferAllocator$SimpleBuffer.buf(SimpleBufferAllocator.java:71)
        at org.apache.mina.core.buffer.AbstractIoBuffer.mark(AbstractIoBuffer.java:404)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$HeadFilter.filterWrite(DefaultIoFilterChain.java:740)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.ssl.SslHandler.flushScheduledEvents(SslHandler.java:321)
        - locked WriteLock@5224d0ec at java.util.concurrent.locks.ReentrantLock(ReentrantLock.java:n/a) 
        at org.apache.mina.filter.ssl.SslFilter.filterWrite(SslFilter.java:653)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.executor.ExecutorFilter.filterWrite(ExecutorFilter.java:611)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.filterWrite(ProtocolCodecFilter.java:317)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:84)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.filterWrite(CommonEventFilter.java:80)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.IoFilterAdapter.filterWrite(IoFilterAdapter.java:123)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1500(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.filterWrite(DefaultIoFilterChain.java:957)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.filterWrite(DefaultIoFilterChain.java:881)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callPreviousFilterWrite(DefaultIoFilterChain.java:629)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireFilterWrite(DefaultIoFilterChain.java:622)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:574)
        at org.apache.mina.core.session.AbstractIoSession.write(AbstractIoSession.java:519)
        at org.apache.ftpserver.impl.FtpIoSession.write(FtpIoSession.java:589)
        at org.apache.ftpserver.command.impl.QUIT.execute(QUIT.java:55)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@604f1596 at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1151 is created by T1150
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.filter.firewall.Subnet.subnetMask: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.mina.filter.firewall.Subnet.<init>(Subnet.java:79)
        at org.apache.ftpserver.clienttests.IpFilterTest.testWhiteList(IpFilterTest.java:83)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1276 (locks held: {})
 ---->  at org.apache.mina.filter.firewall.Subnet.toSubnet(Subnet.java:135)
        at org.apache.mina.filter.firewall.Subnet.inSubnet(Subnet.java:152)
        at org.apache.ftpserver.ipfilter.MinaSessionFilter.sessionCreated(MinaSessionFilter.java:52)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionCreated(DefaultIoFilterChain.java:459)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$700(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionCreated(DefaultIoFilterChain.java:917)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:105)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionCreated(CommonEventFilter.java:45)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionCreated(DefaultIoFilterChain.java:459)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$700(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionCreated(DefaultIoFilterChain.java:917)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionCreated(IoFilterAdapter.java:74)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionCreated(DefaultIoFilterChain.java:459)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireSessionCreated(DefaultIoFilterChain.java:452)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireSessionCreated(IoServiceListenerSupport.java:212)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.addNow(AbstractPollingIoProcessor.java:518)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.handleNewSessions(AbstractPollingIoProcessor.java:487)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$400(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1111)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T1276 is created by T1275
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field java.util.ArrayList.$state: {{{
    Concurrent write in thread T1 (locks held: {Monitor@1a3e6e20, Monitor@800aeec})
 ---->  at org.apache.mina.core.future.DefaultIoFuture.addListener(DefaultIoFuture.java:354)
        - locked Monitor@800aeec at org.apache.mina.core.future.DefaultIoFuture.addListener(DefaultIoFuture.java:339) 
        at org.apache.mina.core.future.DefaultCloseFuture.addListener(DefaultCloseFuture.java:78)
        at org.apache.mina.core.service.IoServiceListenerSupport.disconnectSessions(IoServiceListenerSupport.java:291)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireServiceDeactivated(IoServiceListenerSupport.java:182)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:425)
        at org.apache.mina.core.service.AbstractIoAcceptor.unbind(AbstractIoAcceptor.java:340)
        at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:202)
        - locked Monitor@1a3e6e20 at org.apache.ftpserver.listener.nio.NioListener.stop(NioListener.java:n/a) 
        at org.apache.ftpserver.impl.DefaultFtpServer.stop(DefaultFtpServer.java:120)
        at org.apache.ftpserver.clienttests.ClientTestTemplate.tearDown(ClientTestTemplate.java:233)
        at junit.framework.TestCase.runBare(TestCase.java:146)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1276 (locks held: {})
 ---->  at org.apache.mina.core.future.DefaultIoFuture.notifyListeners(DefaultIoFuture.java:399)
        at org.apache.mina.core.future.DefaultIoFuture.setValue(DefaultIoFuture.java:317)
        at org.apache.mina.core.future.DefaultCloseFuture.setClosed(DefaultCloseFuture.java:54)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.fireSessionClosed(DefaultIoFilterChain.java:488)
        at org.apache.mina.core.service.IoServiceListenerSupport.fireSessionDestroyed(IoServiceListenerSupport.java:245)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeNow(AbstractPollingIoProcessor.java:587)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.removeSessions(AbstractPollingIoProcessor.java:544)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$800(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1128)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T1276 is created by T1275
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringRenameEnd(FtpLetReturnDisconnectTest.java:304)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1542 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1542 is created by T1541
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringAppendStart(FtpLetReturnDisconnectTest.java:382)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1547 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1547 is created by T1546
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringMkdirEnd(FtpLetReturnDisconnectTest.java:181)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1588 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1588 is created by T1587
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringAppendEnd(FtpLetReturnDisconnectTest.java:408)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1669 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1669 is created by T1668
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringDeleteStart(FtpLetReturnDisconnectTest.java:107)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1686 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1686 is created by T1685
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringDownloadStart(FtpLetReturnDisconnectTest.java:332)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1698 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1698 is created by T1697
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.ftpserver.ftpletcontainer.MockFtplet.callback: {{{
    Concurrent write in thread T1 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.FtpLetReturnDisconnectTest.testExceptionDuringLogin(FtpLetReturnDisconnectTest.java:86)
        at junit.framework.TestCase.runTest(TestCase.java:176)
        at junit.framework.TestCase.runBare(TestCase.java:141)
        at junit.framework.TestResult$1.protect(TestResult.java:122)
        at junit.framework.TestResult.runProtected(TestResult.java:142)
        at junit.framework.TestResult.run(TestResult.java:125)
        at junit.framework.TestCase.run(TestCase.java:129)
        at junit.framework.TestSuite.runTest(TestSuite.java:252)
        at junit.framework.TestSuite.run(TestSuite.java:247)
        at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:86)
        at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)
        at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
    T1 is the main thread

    Concurrent read in thread T1715 (locks held: {})
 ---->  at org.apache.ftpserver.ftpletcontainer.MockFtplet.onConnect(MockFtplet.java:72)
        at org.apache.ftpserver.ftpletcontainer.impl.DefaultFtpletContainer.onConnect(DefaultFtpletContainer.java:111)
        at org.apache.ftpserver.impl.DefaultFtpHandler.sessionOpened(DefaultFtpHandler.java:81)
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.sessionOpened(FtpHandlerAdapter.java:98)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.sessionOpened(DefaultIoFilterChain.java:789)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.filter.logging.LoggingFilter.sessionOpened(LoggingFilter.java:226)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.sessionOpened(CommonEventFilter.java:50)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterAdapter.sessionOpened(IoFilterAdapter.java:81)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextSessionOpened(DefaultIoFilterChain.java:476)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$800(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.sessionOpened(DefaultIoFilterChain.java:922)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:101)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1715 is created by T1714
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastReadTime: {{{
    Concurrent read in thread T1892 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastIoTime(AbstractIoSession.java:1106)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1395)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T1892 is created by T1891
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T1894 (locks held: {Monitor@6d185a31})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseReadBytes(AbstractIoSession.java:899)
        at org.apache.ftpserver.impl.FtpIoSession.increaseReadDataBytes(FtpIoSession.java:882)
        at org.apache.ftpserver.impl.DefaultFtpSession.increaseReadDataBytes(DefaultFtpSession.java:262)
        at org.apache.ftpserver.impl.IODataConnection.transfer(IODataConnection.java:257)
        at org.apache.ftpserver.impl.IODataConnection.transferFromClient(IODataConnection.java:137)
        at org.apache.ftpserver.command.impl.STOR.execute(STOR.java:149)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@6d185a31 at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1894 is created by T1892
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}

Data race on field org.apache.mina.core.session.AbstractIoSession.lastReadTime: {{{
    Concurrent read in thread T1892 (locks held: {})
 ---->  at org.apache.mina.core.session.AbstractIoSession.getLastReadTime(AbstractIoSession.java:1113)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleSession(AbstractIoSession.java:1399)
        at org.apache.mina.core.session.AbstractIoSession.notifyIdleness(AbstractIoSession.java:1381)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.notifyIdleSessions(AbstractPollingIoProcessor.java:737)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor.access$900(AbstractPollingIoProcessor.java:68)
        at org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1131)
        at org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)
    T1892 is created by T1891
        at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:1028)

    Concurrent write in thread T1894 (locks held: {Monitor@6d185a31})
 ---->  at org.apache.mina.core.session.AbstractIoSession.increaseReadBytes(AbstractIoSession.java:899)
        at org.apache.ftpserver.impl.FtpIoSession.increaseReadDataBytes(FtpIoSession.java:882)
        at org.apache.ftpserver.impl.DefaultFtpSession.increaseReadDataBytes(DefaultFtpSession.java:262)
        at org.apache.ftpserver.impl.IODataConnection.transfer(IODataConnection.java:257)
        at org.apache.ftpserver.impl.IODataConnection.transferFromClient(IODataConnection.java:137)
        at org.apache.ftpserver.command.impl.STOR.execute(STOR.java:149)
        at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:217)
        - locked Monitor@6d185a31 at org.apache.ftpserver.impl.DefaultFtpHandler.messageReceived(DefaultFtpHandler.java:216) 
        at org.apache.ftpserver.listener.nio.FtpHandlerAdapter.messageReceived(FtpHandlerAdapter.java:64)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.ftpserver.listener.nio.FtpLoggingFilter.messageReceived(FtpLoggingFilter.java:85)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.filter.logging.MdcInjectionFilter.filter(MdcInjectionFilter.java:135)
        at org.apache.mina.filter.util.CommonEventFilter.messageReceived(CommonEventFilter.java:70)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)
        at org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)
        at org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)
        at org.apache.mina.core.filterchain.IoFilterEvent.fire(IoFilterEvent.java:74)
        at org.apache.mina.core.session.IoEvent.run(IoEvent.java:63)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTask(OrderedThreadPoolExecutor.java:770)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.runTasks(OrderedThreadPoolExecutor.java:762)
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor$Worker.run(OrderedThreadPoolExecutor.java:704)
    T1894 is created by T1892
        at org.apache.mina.filter.executor.OrderedThreadPoolExecutor.addWorker(OrderedThreadPoolExecutor.java:262)
}}}


org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:91
org.apache.ftpserver.impl.IODataConnectionFactory.java:68;org.apache.ftpserver.impl.IODataConnectionFactory.java:186
org.apache.ftpserver.impl.IODataConnectionFactory.java:68;org.apache.ftpserver.impl.IODataConnectionFactory.java:272
org.apache.ftpserver.impl.IODataConnectionFactory.java:68;org.apache.ftpserver.impl.IODataConnectionFactory.java:315
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:304
org.apache.ftpserver.impl.IODataConnectionFactory.java:70;org.apache.ftpserver.impl.IODataConnectionFactory.java:435
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:97
org.apache.ftpserver.impl.IODataConnectionFactory.java:66;org.apache.ftpserver.impl.IODataConnectionFactory.java:221
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:74
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:110
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:111
org.apache.ftpserver.impl.IODataConnectionFactory.java:181;org.apache.ftpserver.impl.IODataConnectionFactory.java:486
org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:72
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:175
org.apache.ftpserver.ipfilter.RemoteIpFilter.java:132;org.apache.ftpserver.ipfilter.RemoteIpFilter.java:170
org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:54
org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:79
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:258
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:181
org.apache.ftpserver.impl.IODataConnectionFactory.java:64;org.apache.ftpserver.impl.IODataConnectionFactory.java:122
org.apache.ftpserver.impl.IODataConnectionFactory.java:68;org.apache.ftpserver.impl.IODataConnectionFactory.java:419
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:124
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:268
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:65
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:89
org.apache.ftpserver.impl.IODataConnectionFactory.java:66;org.apache.ftpserver.impl.IODataConnectionFactory.java:135
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:149
org.apache.ftpserver.impl.IODataConnectionFactory.java:62;org.apache.ftpserver.impl.IODataConnectionFactory.java:217
org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:62
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:373
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:165
org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:48;org.apache.ftpserver.listener.nio.FtpHandlerAdapter.java:67
org.apache.ftpserver.impl.IODataConnectionFactory.java:62;org.apache.ftpserver.impl.IODataConnectionFactory.java:137
org.apache.ftpserver.impl.IODataConnectionFactory.java:78;org.apache.ftpserver.impl.IODataConnectionFactory.java:142
org.apache.ftpserver.impl.DefaultFtpHandler.java:59;org.apache.ftpserver.impl.DefaultFtpHandler.java:63
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:211
org.apache.ftpserver.impl.DefaultFtpHandler.java:58;org.apache.ftpserver.impl.DefaultFtpHandler.java:193
org.apache.ftpserver.impl.IODataConnectionFactory.java:419;org.apache.ftpserver.impl.IODataConnectionFactory.java:426
